
{% extends 'shops\shp_base.html' %}


{%load static%}
{%block nav%}

                   <li><a href="{% url 'index' %}">Home</a></li>
                    <li><a href="{% url 'shop'%}">Partners</a></li>

                    <li><a href="{% url 'shop_extras' request.session.shpid.0 %}">My Profile</a></li>
                    <li><a href="{% url 'myproduct'%}">Products</a></li>
{%endblock%}

{% block content %}
<!-- 
    <div class="bg-light py-3">
      <div class="container">
        <div class="row">
          <div class="col-md-12 mb-0">
            <a href="{% url 'index'%}">Home</a> <span class="mx-2 mb-0">/</span>
            <strong class="text-black">Contact</strong>
          </div>
        </div>
      </div>
    </div> -->

    <style>
        .error-message {
    color: red;
    margin-top: 5px;
    }
    
    </style>

    <div class="site-section">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
          <a href="{% url 'shop_extras' det.id %}">  <h2 class="h3 mb-5 text-black btn btn-primary"> See-Profile</h2> </a>
          </div>
          <div class="col-md-12">
    
            <form action="" method="post" enctype="multipart/form-data">
              {% csrf_token %}

    
              <div class="p-3 p-lg-5 border">
                {% if det %}
              <div>
                <img src="{{det.owner_pic.url}}" alt="" style="height: 200px; width: 200px; margin-left: 400px;">
              </div>
              {% else %}
              <div>
                <img src="{% static 'images/noprofile.jpg'%} " alt="" style="height: 200px; width: 200px; margin-left: 400px;">
              </div>
              {% endif %}
                <div class="form-group row">
                    <div class="col-md-12">
                      <label for="email" class="text-black">Owner_Name<span class="text-danger">*</span></label>
                      <input type="text" class="form-control" value="{{det.shp_owner}}" name="name">
                    </div>
                </div>




                <div class="form-group row">
                  <div class="col-md-12">
                    <label for="name" class="text-black">Phone<span class="text-danger">*</span></label>
                    
                    <input id="phoneNumber" pattern="^[6-9]\d{9}$" type="text" class="form-control" value="{{det.my_shop.phone}}" name="phone" pattern = "[6-9][0-9]{9}">
                    <div id="phoneNumberError" class="error-message" style="display: none;"></div>
                
                </div>
                </div>
                <div class="form-group row">
                  <div class="col-md-12">
                    <label for="email" class="text-black">Email<span class="text-danger">*</span></label>
                    <input type="email" class="form-control" value="{{det.my_shop.email}}" name="email">
                  </div>
                </div>

                <div class="form-group row">
                  <div class="col-md-12">
                    <label for="email" class="text-black">Description<span class="text-danger">*</span></label>
                    <textarea name="desc"  class="form-control" cols="30" rows="5">{{det.shop_description}}</textarea>
                    
                  </div>
                </div>

                <div class="form-group row">
                  <div class="col-md-12">
                    <label for="img" class="text-black">Image<span class="text-danger">*</span></label>
                    <input type="file" class="form-control" name="img">
                  </div>
                </div>
     

                <div class="form-group row">
                    <div class="col-lg-12">
                <a href="{% url 'shop_change' %}" class="btn btn-primary btn-lg btn-block" style="color: red; ">Credential Edit</a>
                    </div>
                    </div>

                <div class="form-group row">
                  <div class="col-lg-12">
                    <input type="submit" class="btn btn-primary btn-lg btn-block" value="Save Update">
                  </div>
                </div>
              </div>
            </form>
          </div>
          
        </div>
      </div>
    </div>



    <div class="site-section bg-primary">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <h2 class="text-white mb-4">Offices</h2>
          </div>
          <div class="col-lg-4">
            <div class="p-4 bg-white mb-3 rounded">
              <span class="d-block text-black h6 text-uppercase">New York</span>
              <p class="mb-0">203 Fake St. Mountain View, San Francisco, California, USA</p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="p-4 bg-white mb-3 rounded">
              <span class="d-block text-black h6 text-uppercase">London</span>
              <p class="mb-0">203 Fake St. Mountain View, San Francisco, California, USA</p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="p-4 bg-white mb-3 rounded">
              <span class="d-block text-black h6 text-uppercase">Canada</span>
              <p class="mb-0">203 Fake St. Mountain View, San Francisco, California, USA</p>
            </div>
          </div>
        </div>
      </div>
      
    </div>

   


<script>
    document.addEventListener('DOMContentLoaded', function() {
    const phoneNumberInput = document.getElementById('phoneNumber');
    const phoneNumberError = document.getElementById('phoneNumberError');



    phoneNumberInput.addEventListener('input', function() {
        if (!phoneNumberInput.checkValidity()) {
            phoneNumberError.textContent = 'enter a valid phone number having 10-digits.';
            phoneNumberError.style.display = 'block';
        } else {
            phoneNumberError.style.display = 'none';
        }
    });

    phoneNumberInput.addEventListener('invalid', function(event) {
        event.preventDefault();
        phoneNumberError.textContent = 'Please enter a valid phone number starting with 6/7/8/9.';
        phoneNumberError.style.display = 'block';
    });


});

</script>
{% endblock %}

    